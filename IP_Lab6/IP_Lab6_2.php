<meta charset="utf-8">
<?php
    
    $chars = "0123456789+-()";
    $arr[] = $str;

    for($i=0; $i<1000000; $i++)
    {
        $str[$i] = "";
        for($j=0; $j<11; $j++)
            $str[$i]=$str[$i].(string)($chars[rand(0, 13)]);
    }

    /*for($i=0; $i<1000; $i++)
    {
        echo $str[$i];
        echo "<br>";
    }
    echo "<br>";*/

    /*$arr = array("+7(916)945-23-12", "89169452312", "(944) 945-23-12", "8 (916) 945-23-12",
                "+(917)945-2712", "89134252312", "8(995) 945-23-12", "8(946)945-66-12",
                "+7(923)94uu12", "69169452312", "+7(916)945-23-12", "(916)945-23-12",
                "82349345312", "891694512", "errr", "8 (956) 934-23-12",
                "+17(444)945-34-12", "84569452312", "87(916566)-23-12", "+7(989)   123-23-12",
                "+7fff945-23-12", "89137480012", "+7(654)765-24-78", "8 (916) 345-13-12",
                "8(904)453-12-12", "+7(432)234-11-34", "8(77) 45-23-12", "94w-23-11",
                "82345625312", "+7(432)234", "ttttt", "+7(4223)111-12-88",
                "5625312", "8 (916) 345-55-12", "8 (916) 92225-23-12333", "8  (916)   221-22-99",
                "+17(444)444-34-12", "84523432312", "gg(916566)-23-12", "+7(9   89)   444-23-00",
                "+7sss45-23-12", "89137480012", "+7(654)765-24-78", "8 (916) 446-00-12",
                "89131052912", "344-77-11", "+7(884)345-33-11", "8(882)331-66-77",
                "54342345", "8   (946)94  5-54-12", "(916)23-12", "69169485432",
                "+8(932)945-33-12", "+7(932)223-55-12", "yyy", "89672452312",
                "8916312", "8945672", "8(916) 924-87-10", "+7(916) 785-20-12",
                "8(905)223-00-12", "89769352312", "(834) 322-23-17", "8 (916)77l-23-11",
                "8(888)234-12-17", "8(964)12-92", "89294852300", "8(933)945-88-16"
            );*/
    $t1_start = microtime(true);
    for($i=0; $i<count($str); $i++)
        preg_match_all('/^[+]7\s{0,}[(]\d{3}[)]\s{0,}\d{3}[-]\d{2}[-]\d{2}$/', $str[$i]);
    $t1_end = microtime(true);

    $t2_start = microtime(true);
    for($i=0; $i<count($str); $i++)
        preg_match_all('/^8\d{10}$/', $str[$i]);
    $t2_end = microtime(true);

    $t3_start = microtime(true);
    for($i=0; $i<count($str); $i++)
        preg_match_all('/^8\s{0,}[(]\d{3}[)]\s{0,}\d{3}[-]\d{2}[-]\d{2}$/', $str[$i]);
    $t3_end = microtime(true);
?>
<script>
    console.log(<? echo $t1_end - $t1_start?>);
    console.log(<? echo $t2_end - $t2_start?>);
    console.log(<? echo $t3_end - $t3_start?>);
</script>